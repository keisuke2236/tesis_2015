%======================================================%
%----- T-lab LaTeX Template File for "Thesis"
%
%--- Designed on 2012/12/25
%--- Designed by Ryo Tanaka (sakura)
%======================================================%

田胡研の卒論用の LaTeX テンプレです．

基本的に make でコンパイルする事を想定して作ってあります．
make を使わない人は Makefile を読みつつ，てきとーに環境設定して下さい．

TeXShop,野鳥 とかの統合環境ではテストしていません．
( 統合環境を使う人なら style.sty,cs.sty さえあればわかるでしょう )

TeXworks では Iwami が動作確認してくれました．

なお，私が Windows と Mac を併用してるので，Makefile には
一部無駄なルールを含んでいます．
( デフォルトでは cygwin に make が入らないっぽいですが，私は入れているので )

基本的に余白や表紙のスタイルが統一されていれば良いので，
いらないと思ったファイルは消してもらっても良いです．

また，わからない事があればメーリスに投げるか，
その辺の TeX に詳しそうな人に聞く事．


%------------------------------------%
%--- ファイル構造
%------------------------------------%

- README : これ
- Makefile : make する為の Makefile
- Thesis.tex : コンパイルされる tex ファイル本体
- Table_of_Contents.tex : 表紙や目次を出す tex ファイル
- win_make_pdf.bat : Windows環境でPDFを作成するバッチファイル
- article/ : 記事を入れるディレクトリ
- figure/ : 画像を入れるディレクトリ
- src/ : ソースコードを入れるディレクトリ
- listings/ : ソースコード貼り付け用のパッケージ群
- conf/ : 色々なコンフィグファイルを入れるディレクトリ
- conf/cs.sty : 表紙とかのスタイル
- conf/style.sty : 全体の余白などのスタイル
- conf/conf.tex : 独自コマンドや設定が書いてあるファイル


%------------------------------------%
%--- 前提条件
%------------------------------------%

・ Windows

Wikiに書いてある通りに TeX インストーラを用いて
全てデフォルトのパスで LaTeX のインストールが完了している事．
( Cドライブ直下に w32tex というディレクトリがあれば大体平気です )

・ Mac

MacTeX 2012 を普通にインストールしてある事．
make がなかったら，homebrew とかでインストールしておく事．


%------------------------------------%
%--- まず，やるべきこと
%------------------------------------%

Thesis.tex の "Define basic information" の部分を自分に合わせて編集する．

そんで，コンパイルしてみよう．
表紙や目次などが自分の内容に合わせて生成されているはずだ．


%------------------------------------%
%--- コンパイル方法 (DVIファイルの出力)
%------------------------------------%

・ Windows (cygwin)

make をインストールします．

$ cd /tmp/Template (テンプレのあるディレクトリ)
$ make

・ Windows (makeなし)

テンプレのディレクトリの "compile.bat" をダブルクリックします．

・ Mac

$ cd /tmp/Template
$ make

・ コンパイル出来ない場合

$ make clean
$ make

って感じで clean してから make して下さい．

それで無理ならエラーメッセージを読みつつ，ソースを修正しましょう．

毎回，表紙とか目次が生成されてうざい場合は
conf/conf.tex の "Conditional branch" のところを編集してコンパイルしよう．


%------------------------------------%
%--- 余白について
%------------------------------------%

左：約40mm
右：約30mm
上：約40mm
下：約30mm

になるように余白が設定してあります．(TeX上で)
この辺は統一した方が良いと思うので，なるべく変えないでね．


%------------------------------------%
%--- 画像について
%------------------------------------%

"cloud.tex" に画像出力例が書いてあるので，ソースを見て下さい．

png を貼り付けられる設定にしていますが，表示するソフトウェアによっては
"Susie Plug-in" の導入が必要な場合があります．

また，PDFで見る場合は "conf/conf.tex" の次の部分を

---
	\PDFtrue					% 画像出力をPDFにするか
---

にして出力しないと正しく表示されません．


%------------------------------------%
%--- ソースコードの貼り付けについて
%------------------------------------%

ソースコードの貼り付けには listings パッケージを使っているので，
自分の TeX インストールディレクトリにパッケージを導入する必要があります．
( 導入しない方法もあるけど，導入しておいた方が今後便利なので )

cygwin で make を使ってる場合，

$ make listings

とすると，"C:\w32tex\share\texmf\tex\platex\misc" にパッケージをコピーします．

TeX をインストール時にデフォルトのディレクトリを指定しなかった場合は
Makefile を修正して実行するか，ルールに書かれている事を手動でやって下さい．

cygwin に make がない場合は，"listings.bat"をダブルクリックするか，手動でパッケージをコピーして下さい．

Mac の場合，該当するディレクトリにパッケージをコピーして下さい．


そんで "conf/conf.tex" の

---
	\newif\ifSRC \SRCfalse
---

の記述を

---
	\newif\ifSRC \SRCtrue
---

に変更して下さい．

あとは "cloud.tex" と出力された dvi を見れば大体わかると思います．


%------------------------------------%
%--- PDFファイルの生成
%------------------------------------%

・ Windows

環境変数とかまぁ色々な問題で cygwin から make pdf すると
おかしな事になる可能性があるので，"win_make_pdf.bat" をダブルクリックして下さい．

やってる事は dvipdfmx を呼び出してるだけです．

・ Mac

$ make pdf

終わり．

ちなみに，私はいつもPDFファイルは完成版を提出する時くらいにしか生成していません．
( 印刷も dvi のまま印刷しています )
