%------------------------------------------------------%
%- 提案
%------------------------------------------------------%
\section{提案するフレームワークの目標}
今回提案するフレームワークの目標はアルゴリズムのみを記述することで，
キャラクターとの対話を行う事ができるシステムを開発する事である．

先ほど説明した通り人工知能のアルゴリズム自体の開発を行うことは非常に簡単にできるようになっているが，
現在このようなキャラクターとの対話システムを開発したい場合様々な準備が必要となる．

それらの一部を列挙すると
入力を受け付ける部分，
入力情報の解析アルゴリズム，
解析内容を保存する機構，
返答アルゴリズム，
キャラクターのモデル，
キャラクターの動作ファイル，
キャラクターの発言ファイル，
キャラクターの開発環境，
人工知能の開発環境
など列挙するときりがないほど，様々なものを準備する必要がある．

そこでこの人工知能利用フレームワークがこれらの対話システムを開発する際に必要なものを提供することで，
アルゴリズムの開発のみを行うことで対話システムを作ることができる環境を提供する．

\section{人工知能利用フレームワークの実現方法の提案}
今回提案するのは返答する内容を決めるアルゴリズムだけを開発することで対話システムが完成する，
人工知能を利用する事に焦点を当てたフレームワークである．
そのフレームワークを実現するために，
人工知能ハブという様々な人工知能を所持するプログラムとキャラクターとの対話を行うことができる環境，及び
キャラクターの動作ファイルを簡単に作成できる環境の3つを準備した．

人工知能ハブは様々な人工知能を所持する人工知能のハブであり，websocketで発言内容を送ると返答を得られる人工知能サーバーである．
また人工知能ハブは簡単に対話アルゴリズムを追加する事ができるものであり，
対話アルゴリズムを追加する事で対話を行う際の精度を向上させる事が可能である．
websocet通信を用いる事ができれば人工知能ハブを利用できる，そのためウェブブラウザからスマートフォンアプリケーションまで
様々なクライアントから利用する事ができる．

今回提案する人工知能利用フレームワークのキャラクターとの対話を行う事ができる環境として，
Unityで開発したキャラクターと対話を行う事ができるクライアントを準備した．

キャラクターは発言するだけではなく動作を行うことができ，その動作の種類も簡単に追加可能である．

またキャラクターと会話を実際に行う事で，実際にキャラクターに言われたらどの様に感じるかを
シミュレーション，フィードバックすることが可能であり，
よりリアルなコミュニケーションを行うアルゴリズムの開発をサポートすることが可能になる．

以上の提案を実装する人工知能利用フレームワークをまとめると，
人工知能ハブは対話やキャラの動作及びその動作の選択アルゴリズムを気軽に追加することが可能であり，
そのアルゴリズムを元に動くキャラクターと対話を行う事ができるというシステムである．
%------------------------------------------------------%
\subsection{全体構成の提案}\label{sec:allAr}
この人工知能利用フレームワークの全体構成を次の\figref{all_kose}に示す．

\figPst{150}{all_kose}{全体の構成図}

提案する人工知能利用フレームワークにはUnityで作成したキャラクターを出力する部分，
キャラクターに行わせる動作を考える人工知能ハブ，及びUnity上で利用するためのモーションを保存する
モーションデータベースの3つから構成される．

今回私が担当する人工知能ハブの構成について提案を行う．
人工知能ハブを大きく3つの要素に分けて構成する．
具体的にはUnityでユーザーが入力した内容をもとに人工知能活用ハブがその入力内容を受け取り解析を行う部分，
解析した情報を保存するためのデータベース，及び返答する内容が作り出される部分の3つで構成する．

動作を選択する部分に関しては，共同研究の鈴木智博が作成したモーションデータベースから適切な動作を選択し，
Unityへ動作と返答内容を出力することを提案する．
%------------------------------------------------------%

\subsection{アルゴリズムのみを簡単に追加可能な構成の提案}
ここではアルゴリズムのみを簡単に追加することで対話システムが完成する構成を，
人工知能利用フレームワークに実装することを提案する．
このような構造があることでより簡単に人工知能を作成し，キャラクターとの対話で試すことが可能になると考ている．

人工知能ハブでは作成した会話の返答アルゴリズム，キャラクターの動作を選択するアルゴリズムを簡単に追加する
ことが出来るようにする．
さらに追加したアルゴリズムに対して，それぞれ話題\footnote{話題：そのアルゴリズムはどのような話題の時に解析を行うかを決める単語}
を設定することで，ユーザーが話しかけた内容に応じて適切なアルゴリズムを用いて返答を行うことができるようにする．

例えばゲーム関連の返答アルゴリズムを作る場合は，
そのアルゴリズムをあらかじめ準備されている抽象クラスを用いて実装し，
\figref{all_kose}の返答アルゴリズム軍にその実装したクラスを登録することで，
ゲームの話題が来た時にそのアルゴリズムでキャラクターが返答するシステムを作ることが可能である．

同様にゲーム関連のキャラクターの動作を選択するアルゴリズムを作る場合は，そのアルゴリズムを
抽象クラスを用いて実装し，
\figref{all_kose}の動作選択アルゴリズム軍の中に作成したプログラムを登録するだけで，ゲーム関連
の会話をしている最中は，そのアルゴリズムを用いて動作を決定する仕組みを作ることが可能になるというものである．

これらの実際に解析を行うアルゴリズムや，人工知能が1つだけしか実装されていない場合は，
その実装されているアルゴリズムを自動で選択するように設計されている．

複数の料理の話題に特化した話題解析アルゴリズムやゲームの話題に特化した感情解析のアルゴリズムが
実装されることで様々な話題に対応出来るようになり，より正確な解析アルゴリズムが選択されるようにすることが可能である．

解析だけではなく返答内容の動作や発言内容を作成する際も，ゲーム専用の返答アルゴリズムや料理に特化した
返答アルゴリズムがあることでより円滑なコミュニケーションを行うことが可能になると提案する．

今後様々なアルゴリズムが必要になり，複数人で開発を行うことが想定される．
その際に解析情報をデータベースを用いて共有することで効率的に開発を行えるようにするために，
人工知能ハブではすでに解析した感情情報などの情報は，全てデータベースによって共有されている．

この構成にすることで入力情報の解析を行うプログラムの開発は行わずに，すでにある感情解析プログラムの
解析結果などの情報を使い，ユーザーの感情状態を考慮した「会話ボット」などの開発を行うことも可能となる．
%------------------------------------------------------%
\subsection{作成したアルゴリズムをUnityですぐに試せる機構}
この人工知能利用フレームワークの人工知能ハブに登録されたアルゴリズムを用いて，キャラクターと
の対話ですぐに試すことができる環境を提供する事を提案する．

この環境の開発を行うのは共同研究者の藤井克成であり，MMDモデルを利用しているためモデルを入れ替えることで
好きなキャラクターで動作させることを可能にする．
また，人工知能利用フレームワークのために開発したリアルタイムに動作を補完しながらキャラクターを
動かす技術により，よりリアルなコミュニケーションを行う事を可能とする．

この環境がある事によって，作成した人工知能をすぐにキャラクターとの対話という形で実行することができるため，
入出力の設計や開発をどのようにするかなどの校庭に時間をかける事なく，独自の対話アルゴリズムや人工知能の開発に専念することが可能になる．
%------------------------------------------------------%
\subsection{Unityが利用可能なモーションを追加する機構}
この人工知能利用フレームワークでは現在会話と動作の2つの出力を実装している．
返答パターンは文字列で生成され，Unityへ送信されて実行されるので様々なバリエーションで返答すること
ができる構成となる．
しかしキャラクターの動作に関しては，動的にプログラムを用いて動作を生成することが難しいため，
予めモーションデータを作成しておく必要性がある．

そのモーションデータを定義するファイルを生成することも手間と時間がかかるため，
共同開発の鈴木智博がKinectで動作を定義し，データベースに保存，人工知能ハブと通信を行う事が可能な
プログラムを開発する\cite{suzuki}．

この機構があることによって，人工知能活用フレームワークの中で新しい動きのパターンを追加したい場合，
すぐにKinectを用いて自ら追加したい動作をキャプチャすることで動作ファイルを生成し，
データベースに動作ファイルを登録することで人工知能ハブから使えるようにする事を提案する．